<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resume Autofill Tool</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx@7.1.2/build/index.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.379/pdf.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; margin: auto; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .minimal { background: #f9fafb; border-radius: 0; }
    .modern { background: #e5e7eb; border-radius: 8px; }
    .professional { background: #ffffff; border: 1px solid #e5e7eb; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  </style>
</head>
<body class="bg-white text-black dark:bg-gray-900 dark:text-white p-4 transition-all">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-xl font-bold">Resume Autofill Tool</h1>
    <div class="flex items-center gap-2">
      <select id="languageSelector" class="p-1 border rounded">
        <option value="en">English</option>
        <option value="hi">हिन्दी</option>
      </select>
      <select id="styleSelector" class="p-1 border rounded">
        <option value="minimal">Minimal</option>
        <option value="modern">Modern</option>
        <option value="professional">Professional</option>
      </select>
      <button onclick="toggleTheme()" class="p-2 border rounded">Toggle Theme</button>
    </div>
  </div>

  <div id="dropZone" class="border-dashed border-2 border-gray-400 p-6 mb-4 text-center rounded cursor-pointer">
    <p id="dropZoneText">Drag and drop your resume here or click to upload</p>
    <div id="uploadStatus" class="mt-2"></div>
    <input type="file" id="resumeInput" accept=".pdf,.docx" class="hidden" />
  </div>

  <form id="autofillForm" class="space-y-4">
    <div>
      <label for="name" id="nameLabel" class="block">Name</label>
      <input type="text" id="name" class="w-full p-2 border" required />
    </div>
    <div>
      <label for="email" id="emailLabel" class="block">Email</label>
      <input type="email" id="email" class="w-full p-2 border" required />
    </div>
    <div>
      <label for="phone" id="phoneLabel" class="block">Phone</label>
      <input type="tel" id="phone" class="w-full p-2 border" pattern="\+?\d{1,3}[\s\-]?\d{3}[\s\-]?\d{3}[\s\-]?\d{4}" />
    </div>
    <div>
      <label for="education" id="educationLabel" class="block">Education</label>
      <textarea id="education" class="w-full p-2 border" rows="4"></textarea>
    </div>
    <div>
      <label for="experience" id="experienceLabel" class="block">Experience</label>
      <textarea id="experience" class="w-full p-2 border" rows="4"></textarea>
    </div>
    <div>
      <label id="skillsLabel" class="block">Skills</label>
      <div id="skillsList" class="space-y-2"></div>
      <input type="hidden" id="skills" />
      <button type="button" onclick="addSkillInput()" class="mt-2 p-1 bg-blue-500 text-white rounded">Add Skill</button>
    </div>
    <div>
      <label id="languagesLabel" class="block">Languages</label>
      <div id="languagesList" class="space-y-2"></div>
      <input type="hidden" id="languages" />
      <button type="button" onclick="addLanguageInput()" class="mt-2 p-1 bg-blue-500 text-white rounded">Add Language</button>
    </div>
  </form>

  <div class="mt-4 flex gap-4">
    <button id="downloadBtn" class="p-2 bg-blue-600 text-white rounded">Download PDF</button>
    <button onclick="clearForm()" class="p-2 bg-gray-600 text-white rounded">Clear Form</button>
    <button onclick="saveProfile()" class="p-2 bg-green-600 text-white rounded">Save Profile</button>
  </div>

  <h2 class="mt-6 text-lg font-bold">Live Preview</h2>
  <div id="previewPanel" class="border p-4 rounded bg-white dark:bg-gray-800 text-black dark:text-white mt-2 whitespace-pre-wrap minimal"></div>

  <script src="script.js"></script>
</body>
</html>